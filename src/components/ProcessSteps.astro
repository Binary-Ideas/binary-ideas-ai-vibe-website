---
interface Step {
  id: number;
  icon: string;
  title: string;
  description: string;
  gap?: string;
}

interface Props {
  steps?: Step[];
}

const {
  steps = [
    {
      id: 1,
      icon: "/img/overlay-border.svg",
      title: "Free Consultation",
      description: "We analyze your current processes\nand identify automation opportunities\nduring a complimentary 30-minute\nconsultation.",
      gap: "gap-4",
    },
    {
      id: 2,
      icon: "/img/overlay-border-1.svg",
      title: "Custom Solution Design",
      description: "We design a tailored AI solution that\naddresses your specific needs and\nintegrates with your existing systems.",
      gap: "gap-4",
    },
    {
      id: 3,
      icon: "/img/overlay-border-2.svg",
      title: "Implementation &\nTraining",
      description: "Our team implements the solution\nand provides comprehensive training\nto ensure your team can use it\neffectively.",
      gap: "",
    },
    {
      id: 4,
      icon: "/img/overlay-border-3.svg",
      title: "Ongoing Support",
      description: "We monitor performance, optimize\nresults, and provide ongoing support\nto ensure your AI continues\ndelivering value.",
      gap: "gap-4",
    },
  ]
} = Astro.props;
---

<section class="absolute w-[calc(100%_-_640px)] top-[4058px] left-80 h-[501px]">
  {steps.map((step, index) => (
    <article
      class={`w-[calc(100%_-_984px)] h-[calc(100%_-_140px)] top-[140px] flex flex-col items-center ${step.gap || ""} bg-[#fffefe0d] rounded-2xl border-[#fffefe1a] absolute border border-solid backdrop-blur-sm backdrop-brightness-[100%] [-webkit-backdrop-filter:blur(4px)_brightness(100%)]`}
      style={`left: ${index * 328}px`}
    >
      <div class="h-12 w-12 mt-[33px] flex items-center justify-center rounded-[33554400px] overflow-hidden shadow-[0px_4px_6px_-4px_#0000001a,0px_10px_15px_-3px_#0000001a] bg-[linear-gradient(145deg,rgba(43,127,255,1)_0%,rgba(152,16,250,1)_100%)]">
        <div class="flex items-center justify-center h-5 ml-[0.2px] w-[11.33px] [font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-xl text-center tracking-[0] leading-7 whitespace-nowrap">
          {step.id}
        </div>
      </div>

      <img
        class={`h-14 w-14 ${step.id === 3 ? "mt-4" : ""}`}
        alt={`Step ${step.id} icon`}
        src={step.icon}
      />

      <h3
        class={`flex items-center justify-center ml-[0.2px] ${
          step.id === 3
            ? "h-12 w-[155.48px] mt-5 text-[19.2px]"
            : step.id === 1
              ? "h-7 w-[156.73px] text-xl"
              : step.id === 2
                ? "h-7 w-[214.15px] text-xl"
                : "h-7 w-[151.93px] text-[19.5px]"
        } [font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-white text-center tracking-[0] leading-7 ${step.id === 3 ? "" : "whitespace-nowrap"}`}
        set:html={step.title.split('\n').join('<br />')}
      />

      <p
        class={`flex items-center justify-center ml-[0.2px] ${
          step.id === 1
            ? "h-[82.25px] w-[228.98px] text-[13.6px]"
            : step.id === 2
              ? "h-[59.5px] w-[229.59px] text-[13.9px]"
              : step.id === 3
                ? "h-[82.25px] w-[228.08px] mt-5 text-[13.9px]"
                : "h-[82.25px] w-[226.36px] text-[13.8px]"
        } [font-family:'Segoe_UI_Symbol-Regular',Helvetica] font-normal text-[#99a1ae] text-center tracking-[0] leading-[22.8px]`}
        set:html={step.description.split('\n').join('<br />')}
      />
    </article>
  ))}
</section>
